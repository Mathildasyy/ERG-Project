---
title: "Report"
author: "Sun Yan"
date: "12/7/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
source('~/Documents/Github/ERG-Project/preprocessing/preprocess.R')
```

```{r, echo = FALSE}
# remove the ID column
train <- read.csv('~/Documents/Github/ERG-Project/data/train.csv')[,-1] 
train.y <- train[,ncol(train)]
train <- train[,-ncol(train)]
test <- read.csv('~/Documents/Github/ERG-Project/data/test.csv')[,-1]
```

```{r}
# Fix the NA problems 
train <- preprocess.fixNA(train) 
# Check the frequency of NA in each column
colSums(is.na(train)) 
```

```{r}
train.2 <- preprocess.nzv(train,show = 10)
num.feature <- preprocess.getNum(train.2, range= 1:ncol(train.2))
cat.feature <- preprocess.getCat(train.2, range= 1:ncol(train.2))
trainNum <- preprocess.corNum2Num(train.2,num.feature)
trainCat <- preprocess.corCat2Cat(train.2,cat.feature)
```

```{r}
# Remove outliers
outliers <- preprocess.PCA(trainNum)
trainNum2[-outliers,]
```


```{r}
# the cleaned dataset (witout Sale price)
train.4 <- cbind(trainNum2,trainCat[-outliers,])
```

```{r}
# 这里的函数还没做好QAQ
#train.y <- preprocess.fixY(train.y)
```





